<script src="https://code.jquery.com/jquery-2.1.4.min.js"></script>

<!-- HAMBURGER MENU TOGGLE -->
<script>
$(document).ready(function(){
    $('#nav-icon').click(function(){
        $(this).toggleClass('open');
    });
});
</script>

<!-- optimize gif delivery -->
<script>
    var placeholder_wallet = document.getElementById('gif-wallet'),
        placeholder_badges = document.getElementById('gif-badges'),
        placeholder_tomato = document.getElementById('gif-tomato');

    var gif_wallet = new Image,
        gif_badges = new Image,
        gif_tomato = new Image;

    gif_wallet.onload = function()
    { placeholder_wallet.src = this.src; }
    gif_wallet.src = 'http://movellus.com/images/gif/wallet.gif';

    gif_badges.onload = function()
    { placeholder_badges.src = this.src; }
    gif_badges.src = 'http://movellus.com/images/gif/badges.gif';

    gif_tomato.onload = function()
    { placeholder_tomato.src = this.src; }

    gif_tomato.src = 'http://movellus.com/images/gif/tomato.gif';

</script>

<!-- GOOGLE MAPS -->
<script type="text/javascript">

  function initMap() {
    // Specify features and elements to define styles.
    var styleArray = [
    {
        "featureType": "all",
        "elementType": "geometry",
        "stylers": [
            {
                "color": "#d8d0e6"
            }
        ]
    },
    {
        "featureType": "all",
        "elementType": "geometry.fill",
        "stylers": [
            {
                "visibility": "on"
            },
            {
                "color": "#c2bdd2"
            }
        ]
    },
    {
        "featureType": "all",
        "elementType": "labels.text.fill",
        "stylers": [
            {
                "gamma": 0.01
            },
            {
                "lightness": "8"
            },
            {
                "visibility": "on"
            },
            {
                "color": "#797093"
            },
            {
                "saturation": "14"
            }
        ]
    },
    {
        "featureType": "all",
        "elementType": "labels.text.stroke",
        "stylers": [
            {
                "saturation": -31
            },
            {
                "lightness": -33
            },
            {
                "weight": 2
            },
            {
                "gamma": 0.8
            },
            {
                "visibility": "off"
            }
        ]
    },
    {
        "featureType": "all",
        "elementType": "labels.icon",
        "stylers": [
            {
                "visibility": "off"
            }
        ]
    },
    {
        "featureType": "administrative.country",
        "elementType": "geometry.stroke",
        "stylers": [
            {
                "visibility": "on"
            }
        ]
    },
    {
        "featureType": "administrative.locality",
        "elementType": "geometry.stroke",
        "stylers": [
            {
                "visibility": "on"
            }
        ]
    },
    {
        "featureType": "landscape",
        "elementType": "geometry",
        "stylers": [
            {
                "lightness": 30
            },
            {
                "saturation": 30
            }
        ]
    },
    {
        "featureType": "landscape.man_made",
        "elementType": "geometry.stroke",
        "stylers": [
            {
                "visibility": "on"
            }
        ]
    },
    {
        "featureType": "landscape.natural.landcover",
        "elementType": "geometry.fill",
        "stylers": [
            {
                "visibility": "on"
            }
        ]
    },
    {
        "featureType": "poi",
        "elementType": "geometry",
        "stylers": [
            {
                "saturation": 20
            },
            {
                "visibility": "on"
            }
        ]
    },
    {
        "featureType": "poi.park",
        "elementType": "geometry",
        "stylers": [
            {
                "lightness": 20
            },
            {
                "saturation": -20
            }
        ]
    },
    {
        "featureType": "road",
        "elementType": "geometry",
        "stylers": [
            {
                "lightness": 10
            },
            {
                "saturation": -30
            }
        ]
    },
    {
        "featureType": "road",
        "elementType": "geometry.stroke",
        "stylers": [
            {
                "saturation": 25
            },
            {
                "lightness": 25
            }
        ]
    },
    {
        "featureType": "road.arterial",
        "elementType": "geometry.fill",
        "stylers": [
            {
                "color": "#604f7a"
            },
            {
                "visibility": "on"
            }
        ]
    },
    {
        "featureType": "road.arterial",
        "elementType": "geometry.stroke",
        "stylers": [
            {
                "visibility": "off"
            }
        ]
    },
    {
        "featureType": "road.arterial",
        "elementType": "labels.text.fill",
        "stylers": [
            {
                "color": "#dcd4e9"
            }
        ]
    },
    {
        "featureType": "road.local",
        "elementType": "geometry.fill",
        "stylers": [
            {
                "color": "#9289a0"
            }
        ]
    },
    {
        "featureType": "road.local",
        "elementType": "labels.text.fill",
        "stylers": [
            {
                "visibility": "on"
            }
        ]
    },
    {
        "featureType": "water",
        "elementType": "all",
        "stylers": [
            {
                "lightness": -20
            }
        ]
    }
];

    var movLatLng = {lat: 42.2795502, lng: -83.7427918};
    // Create a map object and specify the DOM element for display.
    var map = new google.maps.Map(document.getElementById('map'), {
      center: movLatLng,
      scrollwheel: false,
      // Apply the map style array to the map.
      styles: styleArray,
      zoom: 17
    });

    var marker = new google.maps.Marker({
      position: movLatLng,
      map: map,
      animation: google.maps.Animation.DROP,
      icon: "{{'/images/purple-marker.png' | prepend: site.baseurl }}",
      title: 'Movellus'
    });
  }

</script>
<!-- SEE MORE BTN -->
<script type="text/javascript">
    
    $(function(){
        $('.btn-more').on('click', function(e){
            e.preventDefault();
            $(this).find('span').toggle("visible invisible");
            $(this).parent().find('p').find('span').toggle("visible invisible")
        })
    });

</script>

<!-- HIDE BANNER (find a better solution, dev) -->
<script>
  var target = $(window).height() * 2;
  var showing = true;

  var interval = setInterval(function() {

    if ($(window).scrollTop() > target) {
      if(showing)
          hide_banner();
      }else{
        if (!showing)
          show_banner();
      }
  }, 500);

  var hide_banner = function () {
    $('#home-banner').hide();
    showing = false;
  }

  var show_banner = function () {
    $('#home-banner').show();
    showing = true;
  }
</script>
<!-- SCROLL TO ANCHOR -->
<script>
var $root = $('html, body');
$('.trigger a').click(function() {
    $('#nav-icon').removeClass("open");
    var href = $.attr(this, 'href');
    $root.animate({
        scrollTop: ($(href).offset().top - 50)
    }, 500, function () {
        window.location.hash = href;
    });
    return false;
});
</script>
<!-- GOOGLE ANALITICS-->
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-90355640-1', 'auto');
  ga('send', 'pageview');

</script>

<script async defer
      src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBRIOY5vRxlSi-rRVwTnrFiNJTVyJVyQI0&callback=initMap">
</script>
